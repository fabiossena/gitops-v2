apiVersion: v1
kind: ConfigMap
metadata:
  name: redpanda-config
data:
  redpanda.yaml: |
    # Main Redpanda configuration
    node_id: 0  # Fixo em 0 para single node
    data_directory: /var/lib/redpanda/data
    
    # Kafka API configuration - CORRIGIDO
    kafka_api:
      - address: 0.0.0.0
        port: 9092
    
    # Admin API configuration
    admin_api:
      - address: 0.0.0.0
        port: 9644
    
    # RPC configuration for inter-node communication
    rpc_server:
      address: 0.0.0.0
      port: 33145
    
    # Seed servers for clustering (empty for single node)
    seed_servers: []
    
    # Enable developer mode for single node
    developer_mode: true
    
    # Log configuration
    log_segment_size: 268435456